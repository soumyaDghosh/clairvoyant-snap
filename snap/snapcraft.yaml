name: clairvoyant
base: core22 
adopt-info: clairvoyant
grade: stable
confinement: strict

parts:
  clairvoyant:
    plugin: meson
    source: https://github.com/cassidyjames/clairvoyant.git
    source-tag: '3.1.2'
    meson-parameters:
      - --prefix=/snap/clairvoyant/current/usr
    organize:
      snap/clairvoyant/current: .
    parse-info: [usr/share/metainfo/com.github.cassidyjames.clairvoyant.metainfo.xml]

slots:
  clairvoyant:
    interface: dbus
    bus: session
    name: com.github.cassidyjames.clairvoyant

apps:
  clairvoyant:
    command: usr/bin/com.github.cassidyjames.clairvoyant
    desktop: usr/share/applications/com.github.cassidyjames.clairvoyant.desktop
    extensions: [gnome]
    plugs:
      - network
